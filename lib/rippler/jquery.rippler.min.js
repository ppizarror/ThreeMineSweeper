(function(c){var b="rippler";var a={init:function(d){d=c.extend({effectClass:"rippler-effect",effectSize:16,addElement:"div",duration:600},d);return this.each(function(){var g=this;var f=c(this);var e=f.data(b);if(!e){d=c.extend({},d);f.data(b,{options:d});if(typeof document.ontouchstart!=="undefined"){f.on("touchstart."+b,function(h){var i=c(this);a.elementAdd.call(g,i,h)});f.on("touchend."+b,function(h){var i=c(this);a.effect.call(g,i,h)})}else{f.on("mousedown."+b,function(h){var i=c(this);a.elementAdd.call(g,i,h)});f.on("mouseup."+b,function(h){var i=c(this);a.effect.call(g,i,h)})}}})},template:function(f){var j=c(this);f=j.data(b).options;var g;var e="rippler-svg";var k="rippler-div";var i='<circle cx="'+f.effectSize+'" cy="'+f.effectSize+'" r="'+f.effectSize/2+'">';var h='<svg class="'+f.effectClass+" "+e+'" xmlns="http://www.w3.org/2000/svg" viewBox="'+f.effectSize/2+" "+f.effectSize/2+" "+f.effectSize+" "+f.effectSize+'">'+i+"</svg>";var d='<div class="'+f.effectClass+" "+k+'"></div>';if(f.addElement==="svg"){g=h}else{g=d}return g},elementAdd:function(k,e,l){var h=this;var j=c(this);l=j.data(b).options;k.append(a.template.call(h));var i=k.find("."+l.effectClass);var g=k.offset();var f=a.targetX.call(h,e);var d=a.targetY.call(h,e);i.css({width:l.effectSize,height:l.effectSize,left:f-g.left-l.effectSize/2,top:d-g.top-l.effectSize/2});return h},effect:function(m,e,o){var j=this;var l=c(this);o=l.data(b).options;var k=c("."+o.effectClass);var i=m.offset();var n=l.outerWidth();var h=l.outerHeight();var g=a.diagonal(n,h)*2;var f=a.targetX.call(j,e);var d=a.targetY.call(j,e);k.css({width:g,height:g,left:f-i.left-g/2,top:d-i.top-g/2,transition:"all "+o.duration/1000+"s ease-out"});return a.elementRemove.call(j)},elementRemove:function(d){var g=this;var f=c(this);d=f.data(b).options;var e=c("."+d.effectClass);setTimeout(function(){e.css({opacity:0,transition:"all "+d.duration/1000+"s ease-out"});setTimeout(function(){e.remove()},d.duration*1.5)},d.duration);return g},targetX:function(d){var f=d.originalEvent;var g;if(typeof document.ontouchstart!="undefined"){g=f.changedTouches[0].pageX}else{g=f.pageX}return g},targetY:function(d){var g=d.originalEvent;var f;if(typeof document.ontouchstart!="undefined"){f=g.changedTouches[0].pageY}else{f=g.pageY}return f},diagonal:function(d,e){if(d>0&&e>0){return Math.sqrt(Math.pow(d,2)+Math.pow(e,2))}else{return false}},destroy:function(){return this.each(function(){var d=c(this);c(window).unbind("."+b);d.removeData(b)})}};c.fn.rippler=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return a.init.apply(this,arguments)}else{c.error("Method "+d+" does not exist on jQuery."+b)}}}})(jQuery);