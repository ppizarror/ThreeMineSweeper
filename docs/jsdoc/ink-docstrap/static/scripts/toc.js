(function(d){var b;var c=false;var g;function f(h){return h.offset().top-(b+g)}function a(i){var j=location.hash.replace(/^#/,"");var k;function h(){var l=f(k);window.scrollTo(window.pageXOffset||window.scrollX,l)}if(j){k=d(document.getElementById(j));if(!k.length){k=d(document.getElementsByName(j))}if(k.length){if(i){d(window).one("scroll",function(){setTimeout(h,100)})}else{setTimeout(h,0)}}}}function e(h){if(c){return}c=true;b=d(".navbar").height();g=h.navbarOffset;d(window).on("hashchange",a.bind(null,false));d(a.bind(null,true))}d.catchAnchorLinks=function(h){var i=d.extend({},jQuery.fn.toc.defaults,h);e(i)};d.fn.toc=function(w){var u=this;var h=d.extend({},jQuery.fn.toc.defaults,w);var i=d(h.container);var n=[];var t=d(h.selectors,i);var q=[];var v="active";var l="__anchor";var p;var j;var m=10;e();var o=function(B){B.preventDefault();var A=d(B.target);if(A.prop("tagName").toLowerCase()!=="a"){A=A.parent()}var x=A.attr("href").replace(/^#/,"")+l;var y=d(document.getElementById(x));var z=Math.min(p,f(y));d("body,html").animate({scrollTop:z},400,"swing",function(){location.hash="#"+x});d("a",u).removeClass(v);A.addClass(v)};var k=function(){p=d("body").height()-d(window).height();j=d(window).height()-b;q=[];t.each(function(y,A){var x=d(A).prev("span");var z=0;if(x.length){z=f(x)}q.push(z>0?z:0)})};var s;var r=function(x){if(!n.length){return}if(s){clearTimeout(s)}s=setTimeout(function(){var B=d(window).scrollTop(),A;for(var y=q.length-1;y>=0;y--){var z=n[y].hasClass(v);if(z&&q[y]>=p&&B>=p){return}if(y===0||(q[y]+m>=B&&(q[y-1]+m<=B))){if(y>0&&q[y]-j>=B){y--}d("a",u).removeClass(v);if(y>=0){A=n[y].addClass(v);h.onHighlight(A)}break}}},50)};if(h.highlightOnScroll){d(window).bind("scroll",r);d(window).bind("load resize",function(){k();r()})}return this.each(function(){var y=d(this);var x=d('<div class="list-group">');t.each(function(C,E){var z=d(E);var B=d("<span/>").attr("id",h.anchorName(C,E,h.prefix)+l).insertBefore(z);var D=d("<span/>").text(h.headerText(C,E,z));var A=d('<a class="list-group-item"/>').append(D).attr("href","#"+h.anchorName(C,E,h.prefix)).bind("click",function(F){o(F);y.trigger("selected",d(this).attr("href"))});D.addClass(h.itemClass(C,E,z,h.prefix));n.push(A);x.append(A)});y.html(x);k()})};jQuery.fn.toc.defaults={container:"body",selectors:"h1,h2,h3",smoothScrolling:true,prefix:"toc",onHighlight:function(){},highlightOnScroll:true,navbarOffset:0,anchorName:function(h,k,j){return j+h},headerText:function(h,k,j){return j.text()},itemClass:function(h,l,j,k){return k+"-"+j[0].tagName.toLowerCase()}}})(jQuery);