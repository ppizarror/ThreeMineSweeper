/*
 MIT
*/
function LibraryManager(){this.lib={__LANG__:"app_lang",AMARANJS:"amaranJS",ANIMATE:"animateCSS",ASRANGE:"asRange",BACKTOTOP:"jquery-backToTop",BOOTSTRAP:"bootstrap",BOOTSTRAPJS:"bootstrap-js",BOWSER:"bowser",BPASSWDTOGGLER:"bootstrap-password-toggler",CHARTJS:"Chartjs",CONTEXTMENU:"contextMenu",D3:"d3",DATATABLES:"dataTables",DATATABLESBT4:"dataTables.bootstrap4",DATEPICKER:"datepicker",DATGUI:"dat.gui",DBIP:"dbip",DELAUNATOR:"delaunator",EARCUT:"earcut",EASYTIMER:"easytimer",FILESAVERJS:"filesaver.js",
FONTAWESOME:"fontAwesome",FORMVALIDATOR:"formvalidator",FORMVALIDATORLANG:"formvalidator-lang",GLTFEXPORTER:"threejs-GLTFExporter",GOJS:"gojs",HAMMER:"hammer",HOVERCSS:"hover.css",IONRANGESLIDER:"ion.rangeSlider",IONSOUND:"ion.sound",JQUERYCONFIRM:"jquery-confirm",JQUERYNICESELECT:"jquery-nice-select",JQUERYTIMEAGO:"jquery-timeago",JQUERYTOAST:"jquery.toast",JQVMAP:"jqvmap",MD5:"md5",MENTIONSINPUT:"jquery-mentions-input",MMENU:"mmenu",MOUSEWHEEL:"jquery.mousewheel",MULTISELECT:"multiselect",NORMALIZE:"normalize.css",
NOTIFICATIONJS:"notification.js",OBJEXPORTER:"threejs-OBJExporter",ORBITCONTROLS:"Orbitcontrols",POPPER:"popper",RIPPLER:"rippler",SCROLLLOCK:"jquery-scrollLock",SELECT2:"select2",SHA1:"sha1",SIMPLEPAGINATION:"simplePagination",SPIN:"spin",STATS:"stats",THREEJS:"threejs",TINYMCE:"tinyMCE",TJSPROJECTOR:"threejs-projector",TOASTR:"toastr",TOOLTIPSTER:"tooltipster",TWBSPAGINATION:"twbs-pagination",UIPOSITION:"jquery.ui.position",UNDERSCORE:"underscore",VALIDATORJS:"validator.js"};$.ajaxSetup({cache:!0});
this._importedLibraries={};this._importLibQueue=[];var a=this;this._holdReady=!1;this._startTime=null;this._importTime={};this._queryTime=0;this._initapp=!1;this._waitingThreadData={};this._enable_holdReady=function(){a._holdReady=!0};this.set_app_initialized=function(){a._initapp=!0};this.disable_hold_ready=function(){this._holdReady&&$.holdReady(!1);a._holdReady=!1};this.get_imported_libraries=function(a){for(var b=Object.keys(this._importedLibraries),d="",e=0;e<b.length;e+=1)this._importedLibraries[b[e]]&&
(d+=b[e],e<b.length-1&&(d+=", "));if(""!==d&&a)try{app_console.info(lang.imported_dynamically_libs.format(d,round_number(this._queryTime,3)))}catch(f){}finally{}return d};this.is_loaded_library=function(a){return-1===Object.keys(this._importedLibraries).indexOf(a)?!1:this._importedLibraries[a]};this.is_all_loaded_libraries=function(){return 0===Object.keys(this._importLibQueue).length?(this._holdReady&&$.holdReady(!1),a._queryTime=get_seconds_from(this._startTime),!0):!1};this._throw_fatal_error=
function(a,c){app_dialog.error(lang.import_fatal_error_title,lang.import_fatal_error_content.format("<b>{0}</b>".format(a),"<i>{0}</i>".format(c)));NotificationJS.error(lang.import_fatal_error_title)};this._getScript_async_callback=function(b,c,d,e){try{var f=function(){void 0!==e?d(e):d();a._importedLibraries[b]=!0;a._remove_lib_from_queue(b);not_null_undf(a._importTime[b])&&(app_console.info(lang.loading_async_library.format(b,get_seconds_from(a._importTime[b]))),delete a._importTime[b]);return!0};
if(a._importedLibraries[b])return f(),!0;$.getScript(c,f).fail(function(){a._throw_fatal_error(b,c)})}catch(g){}finally{}return!1};this.import_async_library=function(b,c,d,e){if(!a._initapp)throw"LibraryManager::import_async_library Application is not initialized yet, the library has not been downloaded "+b;is_null_undf(c)&&(c=function(){});if(b instanceof Array)if(1===b.length)b=b[0];else{var f=b.splice(0,1),g=b;b=f[0];c=function(b,c,f){return function(){1===g.length&&(g=g[0]);a.import_async_library(g,
c,d,f)}}(g,c,e)}if(this.is_loaded_library(b)||d)a._loadLibrary(b,c,e);else{if(-1===Object.keys(a._importLibQueue).indexOf(b)){a.add_lib_to_queue(b);a._importTime[b]=new Date;try{return a._loadLibrary(b,c,e),!0}catch(h){NotificationJS.error(h.message)}finally{}return!1}a._create_waiting_thread(b,c,e)}return!0};this._create_waiting_thread=function(b,c,d){if(void 0!==c){var e=generateID();a._waitingThreadData[e]={callback:c,id:e,params:d,threadid:0};a._waitingThreadData[e].threadid=setInterval(function(){if(a.is_loaded_library(b)){var c=
a._waitingThreadData[e];clearInterval(c.threadid);void 0!==c.params?c.callback(c.params):c.callback();delete a._waitingThreadData[e]}},cfg_module_async_wait)}};this._getScript_async=function(a,c){return this._getScript_async_callback(a,c,function(){})};this.load_css_lib=function(b,c){a._importedLibraries[b+".css"]||(a._importedLibraries[b+".css"]=!0,$("head").append('<link rel="stylesheet" type="text/css" href="'+c+'" media="screen">'))};this.import_all_libraries=function(){if(a._initapp)throw"LibraryManager::import_all_libraries The application has been initizlied, the libraries could not been downloaded";
a._startTime=new Date;var b=Object.keys(this._importLibQueue);if(0!==b.length){this._holdReady&&$.holdReady(!0);for(var c,d=0;d<b.length;d+=1)c=b[d],this._loadLibrary(c)}};this.add_lib_to_queue=function(b){-1===Object.keys(this._importLibQueue).indexOf(b)&&(a._importLibQueue[b]=!1)};this._remove_lib_from_queue=function(a){-1!==Object.keys(this._importLibQueue).indexOf(a)&&(delete this._importLibQueue[a],this.is_all_loaded_libraries())};this._loadLibrary=function(b,c,d){is_null_undf(c)&&(c=function(){});
switch(b){case a.lib.__LANG__:var e=sessionCookie.lang;if("en"===e){c(d);break}lang_available.includes(e)||(sessionCookie.lang="en");this._getScript_async_callback(b+e,"dist/i18n/{0}.min.js".format(e),c,d);break;case a.lib.SELECT2:this.load_css_lib(b,"lib/select2/select2.min.css");this._getScript_async_callback(b,"lib/select2/select2.full.min.js",c,d);break;case a.lib.GOJS:this._getScript_async_callback(b,"lib/goJS/go.min.js",c,d);break;case a.lib.THREEJS:this._getScript_async_callback(b,"lib/three.js/three.min.js",
function(b){a.add_lib_to_queue(a.lib.ORBITCONTROLS);a._getScript_async_callback(a.lib.ORBITCONTROLS,"lib/three.js/OrbitControls.min.js",b.c,b.p)},{c:c,p:d});break;case a.lib.DATGUI:a.load_css_lib(b,"lib/dat.gui/dat.gui.min.css");this._getScript_async_callback(b,"lib/dat.gui/dat.gui.min.js",c,d);break;case a.lib.GLTFEXPORTER:this._getScript_async_callback(b,"lib/three.js/GLTFExporter.min.js",c,d);break;case a.lib.OBJEXPORTER:this._getScript_async_callback(b,"lib/three.js/OBJExporter.min.js",c,d);break;
case a.lib.FORMVALIDATOR:a.load_css_lib(b,"lib/formvalidator/theme-default.min.css");this._getScript_async_callback(b,"lib/formvalidator/jquery.form-validator.min.js",function(b){a.add_lib_to_queue(a.lib.FORMVALIDATORLANG);switch(cfg_lang){case "es":a._getScript_async_callback(a.lib.FORMVALIDATORLANG,"lib/formvalidator/lang/es.min.js",b.c,b.p);break;case "fr":a._getScript_async_callback(a.lib.FORMVALIDATORLANG,"lib/formvalidator/lang/fr.min.js",b.c,b.p)}},{c:c,p:d});break;case a.lib.STATS:this._getScript_async_callback(b,
"lib/stats.js/stats.min.js",c,d);break;case a.lib.DATATABLES:a.load_css_lib(b,"lib/dataTables/dataTables.bootstrap4.min.css");this._getScript_async_callback(b,"lib/dataTables/jquery.dataTables.min.js",function(b){a.add_lib_to_queue(a.lib.DATATABLESBT4);a._getScript_async_callback(a.lib.DATATABLESBT4,"lib/dataTables/dataTables.bootstrap4.min.js",b.c,b.p)},{c:c,p:d});break;case a.lib.CONTEXTMENU:a.load_css_lib(b,"lib/jquery.contextMenu/jquery.contextMenu.min.css");this._getScript_async_callback(b,"lib/jquery.contextMenu/jquery.contextMenu.min.js",
c,d);break;case a.lib.DATEPICKER:a.load_css_lib(b,"lib/datepicker/datepicker.min.css");this._getScript_async_callback(b,"lib/datepicker/datepicker.min.js",c,d);break;case a.lib.ASRANGE:a.load_css_lib(b,"lib/jquery-asRange/asRange.min.css");this._getScript_async_callback(b,"lib/jquery-asRange/jquery-asRange.min.js",c,d);break;case a.lib.MULTISELECT:this._getScript_async_callback(b,"lib/multiselect/multiselect.min.js",c,d);break;case a.lib.TOASTR:a.load_css_lib(b,"lib/toastr/toastr.min.css");this._getScript_async_callback(b,
"lib/toastr/toastr.min.js",c,d);break;case a.lib.CHARTJS:this._getScript_async_callback(b,"lib/chart.js/Chart.bundle.min.js",c,d);break;case a.lib.BPASSWDTOGGLER:this._getScript_async_callback(b,"lib/bootstrap-password-toggler/toggler.min.js",c,d);break;case a.lib.AMARANJS:a.load_css_lib(b,"lib/AmaranJS/css/amaran.min.css");a.load_css_lib(b,"lib/AmaranJS/css/animate.min.css");this._getScript_async_callback(b,"lib/AmaranJS/js/jquery.amaran.min.js",c,d);break;case a.lib.JQUERYTOAST:a.load_css_lib(b,
"lib/jquery.toast/jquery.toast.min.css");this._getScript_async_callback(b,"lib/jquery.toast/jquery.toast.min.js",c,d);break;case a.lib.FONTAWESOME:a.load_css_lib(b,"lib/font-awesome/css/all.min.css");break;case a.lib.JQUERYCONFIRM:a.load_css_lib(b,"lib/jquery-confirm/jquery-confirm.min.css");this._getScript_async_callback(b,"lib/jquery-confirm/jquery-confirm.min.js",c,d);break;case a.lib.MD5:this._getScript_async_callback(b,"lib/md5/md5.min.js",c,d);break;case a.lib.HOVERCSS:a.load_css_lib(b,"lib/hover/hover.min.css");
break;case a.lib.TOOLTIPSTER:a.load_css_lib(b,"lib/tooltipster/tooltipster.bundle.min.css");this._getScript_async_callback(b,"lib/tooltipster/tooltipster.bundle.min.js",c,d);break;case a.lib.BOOTSTRAP:a.load_css_lib(b,"lib/bootstrap/bootstrap.min.css");break;case a.lib.MMENU:a.load_css_lib(b,"lib/mmenu/jquery.mmenu.all.css");this._getScript_async_callback(b,"lib/mmenu/jquery.mmenu.all.js",function(b){a.add_lib_to_queue(a.lib.HAMMER);a._getScript_async_callback(a.lib.HAMMER,"lib/hammer/hammer.min.js",
b.c,b.p)},{c:c,p:d});break;case a.lib.RIPPLER:a.load_css_lib(b,"lib/rippler/rippler.min.css");this._getScript_async_callback(b,"lib/rippler/rippler.min.js",c,d);break;case a.lib.SPIN:a.load_css_lib(b,"lib/spin/spin.css");this._getScript_async_callback(b,"lib/spin/spin.min.js",c,d);break;case a.lib.BOWSER:this._getScript_async_callback(b,"lib/bowser/bowser.min.js",c,d);break;case a.lib.SCROLLLOCK:this._getScript_async_callback(b,"lib/jquery-scrollLock/jquery-scrollLock.min.js",c,d);break;case a.lib.MOUSEWHEEL:this._getScript_async_callback(b,
"lib/jquery.mousewheel/jquery.mousewheel.min.js",c,d);break;case a.lib.UIPOSITION:this._getScript_async_callback(b,"lib/jquery.ui/jquery.ui.position.min.js",c,d);break;case a.lib.MENTIONSINPUT:a.load_css_lib(b,"lib/jquery-mentions-input/jquery.mentionsInput.min.css");a.add_lib_to_queue(a.lib.UNDERSCORE);a._getScript_async_callback(a.lib.UNDERSCORE,"lib/underscore/underscore-min.js",function(c){a.add_lib_to_queue("jquery.events.input");a.add_lib_to_queue("jquery.elastic");a._getScript_async("jquery.events.input",
"lib/jquery-mentions-input/jquery.events.input.min.js");a._getScript_async("jquery.elastic","lib/jquery-mentions-input/jquery.elastic.min.js");a._getScript_async_callback(b,"lib/jquery-mentions-input/jquery.mentionsInput.min.js",c.c,c.p)},{c:c,p:d});break;case a.lib.UNDERSCORE:this._getScript_async_callback(b,"lib/underscore/underscore-min.js",c,d);break;case a.lib.TINYMCE:a.load_css_lib(b+"-plugin-mention-autocomplete","lib/tinymce/plugins/mention/autocomplete.css");a.load_css_lib(b+"-plugin-mention-rte",
"lib/tinymce/plugins/mention/rte-content.css");a.add_lib_to_queue("jquery.tinymce");this._getScript_async("jquery.tinymce","lib/tinymce/jquery.tinymce.min.js");this._getScript_async_callback(b,"lib/tinymce/tinymce.min.js",function(b){a.add_lib_to_queue("tinymce-lang");switch(cfg_lang){case "es":a._getScript_async_callback("tinymce-lang","lib/tinymce/langs/es.js",b.c,b.p);break;case "en":a._getScript_async_callback("tinymce-lang","lib/tinymce/langs/en_GB.js",b.c,b.p);break;case "fr":a._getScript_async_callback("tinymce-lang",
"lib/tinymce/langs/fr_FR.js",b.c,b.p);break;case "br":a._getScript_async_callback("tinymce-lang","lib/tinymce/langs/br_BR.js",b.c,b.p);break;case "ru":a._getScript_async_callback("tinymce-lang","lib/tinymce/langs/ru_RU.js",b.c,b.p)}},{c:c,p:d});break;case a.lib.ANIMATE:a.load_css_lib(b,"lib/animate/animate.min.css");break;case a.lib.SHA1:this._getScript_async_callback(b,"lib/sha1/sha1.min.js",c,d);break;case a.lib.NORMALIZE:a.load_css_lib(b,"lib/normalize/normalize.min.css");break;case a.lib.IONRANGESLIDER:a.load_css_lib(b,
"lib/ion.rangeSlider/ion.rangeSlider.min.css");this._getScript_async_callback(b,"lib/ion.rangeSlider/ion.rangeSlider.min.js",c,d);break;case a.lib.BACKTOTOP:a.load_css_lib(b,"lib/jquery-backToTop/jquery-backToTop.min.css");this._getScript_async_callback(b,"lib/jquery-backToTop/jquery-backToTop.min.js",c,d);break;case a.lib.JQUERYTIMEAGO:this._getScript_async_callback(b,"lib/jquery-timeago/jquery.timeago.min.js",function(b){a.add_lib_to_queue("jquery-timeago-locale");switch(cfg_lang){case "es":a._getScript_async_callback("jquery-timeago-locale",
"lib/jquery-timeago/locales/jquery.timeago.es.min.js",b.c,b.p);break;case "en":a._getScript_async_callback("jquery-timeago-locale","lib/jquery-timeago/locales/jquery.timeago.en.min.js",b.c,b.p);break;case "fr":a._getScript_async_callback("jquery-timeago-locale","lib/jquery-timeago/locales/jquery.timeago.fr.min.js",b.c,b.p);break;case "de":a._getScript_async_callback("jquery-timeago-locale","lib/jquery-timeago/locales/jquery.timeago.de.min.js",b.c,b.p);break;case "ru":a._getScript_async_callback("jquery-timeago-locale",
"lib/jquery-timeago/locales/jquery.timeago.fr.min.js",b.c,b.p)}},{c:c,p:d});break;case a.lib.TWBSPAGINATION:this._getScript_async_callback(b,"lib/twbs-pagination/jquery.twbsPagination.min.js",c,d);break;case a.lib.SIMPLEPAGINATION:a.load_css_lib(b,"lib/simplePagination/simplePagination.min.css");this._getScript_async_callback(b,"lib/simplePagination/jquery.simplePagination.min.js",c,d);break;case a.lib.BOOTSTRAPJS:this._getScript_async_callback(b,"lib/bootstrap/bootstrap.bundle.min.js",c,d);break;
case a.lib.FILESAVERJS:this._getScript_async_callback(b,"lib/filesaver/FileSaver.js",function(b){a._getScript_async("canvas-toBlob","lib/filesaver/canvas-toBlob.js");a.add_lib_to_queue("Blob.js");a._getScript_async_callback("Blob.js","lib/filesaver/Blob.js",b.c,b.p)},{c:c,p:d});break;case a.lib.D3:this._getScript_async_callback(b,"lib/d3/d3.min.js",c,d);break;case a.lib.POPPER:this._getScript_async_callback(b,"lib/popper/popper.min.js",c,d);break;case a.lib.VALIDATORJS:this._getScript_async_callback(b,
"lib/validator.js/validator.min.js",c,d);break;case a.lib.EARCUT:this._getScript_async_callback(b,"lib/earcut/earcut.js",c,d);break;case a.lib.DELAUNATOR:this._getScript_async_callback(b,"lib/delaunator/delaunator.min.js",c,d);break;case a.lib.IONSOUND:this._getScript_async_callback(b,"lib/ion.sound/ion.sound.min.js",c,d);break;case a.lib.EASYTIMER:this._getScript_async_callback(b,"lib/easytimer/easytimer.min.js",c,d);break;case a.lib.DBIP:this._getScript_async_callback(b,"https://cdn.db-ip.com/js/dbip.js",
c,d);break;case a.lib.JQVMAP:a.load_css_lib(b,"lib/jqvmap/jqvmap.min.css");this._getScript_async_callback(b,"lib/jqvmap/jquery.vmap.min.js",function(b){a._getScript_async_callback("jqvmap.world","lib/jqvmap/maps/jquery.vmap.world.js",b.c,b.p)},{c:c,p:d});break;case a.lib.JQUERYNICESELECT:a.load_css_lib(b,"lib/jquery-nice-select/style.css");this._getScript_async_callback(b,"lib/jquery-nice-select/jquery.nice-select.min.js",c,d);break;case a.lib.NOTIFICATIONJS:a.load_css_lib(b,"lib/notification.js/notification.min.css");
this._getScript_async_callback(b,"lib/notification.js/notification.min.js",c,d);break;default:throw a._remove_lib_from_queue(b),is_null_undf(b)&&(b="__undefined__"),"LibraryManager::loadLibrary Library <{0}> unknown".format(b);}};this._enable_holdReady()}var app_library_manager=new LibraryManager;app_library_manager.add_lib_to_queue(app_library_manager.lib.EASYTIMER);app_library_manager.add_lib_to_queue(app_library_manager.lib.IONRANGESLIDER);app_library_manager.add_lib_to_queue(app_library_manager.lib.MD5);
app_library_manager.add_lib_to_queue(app_library_manager.lib.NOTIFICATIONJS);app_library_manager.add_lib_to_queue(app_library_manager.lib.RIPPLER);app_library_manager.add_lib_to_queue(app_library_manager.lib.THREEJS);app_library_manager.add_lib_to_queue(app_library_manager.lib.TOOLTIPSTER);
function after_load_imports(){app_library_manager.import_async_library(app_library_manager.lib.AMARANJS);app_library_manager.import_async_library(app_library_manager.lib.ANIMATE);app_library_manager.import_async_library(app_library_manager.lib.DELAUNATOR);app_library_manager.import_async_library(app_library_manager.lib.EARCUT);app_library_manager.import_async_library(app_library_manager.lib.FONTAWESOME);app_library_manager.import_async_library(app_library_manager.lib.HOVERCSS);app_library_manager.import_async_library(app_library_manager.lib.JQUERYCONFIRM);
app_library_manager.import_async_library(app_library_manager.lib.JQUERYNICESELECT)}jQuery.fn.tooltipster=function(){};jQuery.fn.alert=function(){};jQuery.fn.confirm=function(){};var bowser,Spinner;
