/*
 MIT
*/
function GenSierpinskiCube(){Generator.call(this);this._genprops.fractal=!0;this._set_name("SierpinskiCube");this._generate=function(h,l,p,m,n,t){this._apply_order_limit(2);this._set_camera_position(1.8,-1.8,1.8);var r=new Vertex(h,l,p,"V1-0"),x=new Vertex(m,l,p,"V2-0"),k=new Vertex(m,n,p,"V3-0");p=new Vertex(h,n,p,"V4-0");var g=new Vertex(h,l,t,"V5-0");l=new Vertex(m,l,t,"V6-0");m=new Vertex(m,n,t,"V7-0");h=new Vertex(h,n,t,"V8-0");this._sierpinksi(r,x,k,p,g,l,m,h,0,"C")};this._sierpinksi=function(h,
l,p,m,n,t,r,x,k,g){var b=h.get_x(),a=h.get_y(),c=h.get_z(),d=Math.abs(h.get_x()-l.get_x()),e=Math.abs(h.get_y()-m.get_y()),f=Math.abs(h.get_z()-n.get_z());if(k===this._order){k=new Face([h,n,t,l],g+"+F1");b=new Face([p,r,x,m],g+"+F2");a=new Face([m,x,n,h],g+"+F3");c=new Face([l,t,r,p],g+"+F4");r=new Face([n,x,r,t],g+"+F5");g=new Face([l,p,m,h],g+"+F6");k.enable_uv_flip();b.set_uv_rotation(90);a.enable_uv_flip();a.set_uv_rotation(90);r.enable_uv_flip();r.set_uv_rotation(270);g=[k,b,a,c,r,g];for(r=
0;r<g.length;r+=1)g[r].set_bomb_behaviour(k.behaviour.AROUND);this._volume.add_face(g)}else{var v=new Vertex(b+d/3,a,c),q=new Vertex(b+d/3,a+e/3,c),y=new Vertex(b,a+e/3,c),F=new Vertex(b,a,c+f/3),A=new Vertex(b+d/3,a,c+f/3),B=new Vertex(b+d/3,a+e/3,c+f/3),G=new Vertex(b,a+e/3,c+f/3);this._sierpinksi(h,v,q,y,F,A,B,G,k+1,g+"-1");h=new Vertex(b+2*d/3,a,c);var u=new Vertex(b+2*d/3,a+e/3,c),C=new Vertex(b+2*d/3,a,c+f/3),D=new Vertex(b+2*d/3,a+e/3,c+f/3);this._sierpinksi(v,h,u,q,A,C,D,B,k+1,g+"-2");var z=
new Vertex(b+d,a+e/3,c),H=new Vertex(b+d,a,c+f/3),I=new Vertex(b+d,a+e/3,c+f/3);this._sierpinksi(h,l,z,u,C,H,I,D,k+1,g+"-3");var w=new Vertex(b+d/3,a+2*e/3,c),E=new Vertex(b,a+2*e/3,c);h=new Vertex(b+d/3,a+2*e/3,c+f/3);v=new Vertex(b,a+2*e/3,c+f/3);this._sierpinksi(y,q,w,E,G,B,h,v,k+1,g+"-4");var J=new Vertex(b+d,a+2*e/3,c),K=new Vertex(b+2*d/3,a+2*e/3,c);l=new Vertex(b+d,a+2*e/3,c+f/3);q=new Vertex(b+2*d/3,a+2*e/3,c+f/3);this._sierpinksi(u,z,J,K,D,I,l,q,k+1,g+"-5");var L=new Vertex(b+d/3,a+e,c);
z=new Vertex(b+d/3,a+e,c+f/3);y=new Vertex(b,a+e,c+f/3);this._sierpinksi(E,w,L,m,v,h,z,y,k+1,g+"-6");m=new Vertex(b+2*d/3,a+e,c);u=new Vertex(b+2*d/3,a+e,c+f/3);this._sierpinksi(w,K,m,L,h,q,u,z,k+1,g+"-7");E=new Vertex(b+d,a+e,c+f/3);this._sierpinksi(K,J,p,m,q,l,E,u,k+1,g+"-8");J=new Vertex(b,a,c+2*f/3);w=new Vertex(b+d/3,a,c+2*f/3);p=new Vertex(b+d/3,a+e/3,c+2*f/3);m=new Vertex(b,a+e/3,c+2*f/3);this._sierpinksi(F,A,B,G,J,w,p,m,k+1,g+"-9");B=new Vertex(b+2*d/3,a,c+2*f/3);G=new Vertex(b+d,a,c+2*f/
3);F=new Vertex(b+d,a+e/3,c+2*f/3);A=new Vertex(b+2*d/3,a+e/3,c+2*f/3);this._sierpinksi(C,H,I,D,B,G,F,A,k+1,g+"-10");H=new Vertex(b,a+2*e/3,c+2*f/3);C=new Vertex(b+d/3,a+2*e/3,c+2*f/3);D=new Vertex(b+d/3,a+e,c+2*f/3);I=new Vertex(b,a+e,c+2*f/3);this._sierpinksi(v,h,z,y,H,C,D,I,k+1,g+"-11");h=new Vertex(b+2*d/3,a+2*e/3,c+2*f/3);v=new Vertex(b+d,a+2*e/3,c+2*f/3);z=new Vertex(b+d,a+e,c+2*f/3);y=new Vertex(b+2*d/3,a+e,c+2*f/3);this._sierpinksi(q,l,E,u,h,v,z,y,k+1,g+"-12");u=new Vertex(b+d/3,a,c+f);l=
new Vertex(b+d/3,a+e/3,c+f);q=new Vertex(b,a+e/3,c+f);this._sierpinksi(J,w,p,m,n,u,l,q,k+1,g+"-13");E=new Vertex(b+2*d/3,a,c+f);n=new Vertex(b+2*d/3,a+e/3,c+f);this._sierpinksi(w,B,A,p,u,E,n,l,k+1,g+"-14");u=new Vertex(b+d,a+e/3,c+f);this._sierpinksi(B,G,F,A,E,t,u,n,k+1,g+"-15");t=new Vertex(b+d/3,a+2*e/3,c+f);w=new Vertex(b,a+2*e/3,c+f);this._sierpinksi(m,p,C,H,q,l,t,w,k+1,g+"-16");l=new Vertex(b+d,a+2*e/3,c+f);q=new Vertex(b+2*d/3,a+2*e/3,c+f);this._sierpinksi(A,F,v,h,n,u,l,q,k+1,g+"-17");n=new Vertex(b+
d/3,a+e,c+f);this._sierpinksi(H,C,D,I,w,t,n,x,k+1,g+"-18");x=new Vertex(b+2*d/3,a+e,c+f);this._sierpinksi(C,h,y,D,t,q,x,n,k+1,g+"-19");this._sierpinksi(h,v,z,y,q,l,r,x,k+1,g+"-20")}}};
