/*
 MIT
*/
function GenFunction(){Generator.call(this);this._genprops.latlng=!0;this._genprops.fun=!0;this._set_name("Function");this._generate=function(h,k,n,p,q,d){this._set_camera_position(1.3,0,1.6);var e=this._lat+1,l=this._lng+1,r=Math.abs(d-n),g=(d+n)/2;p=Math.abs(p-h)/(l-1);q=Math.abs(q-k)/(e-1);n=Parser.parse(this._gen_fun).toJSFunction(["x","y"]);for(var a,f,m=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,c=0;c<l;c+=1)for(var t=0;t<e;t+=1)d=h+p*c,a=k+q*t,f=n(d,a),m=Math.min(f,m),b=Math.max(f,
b);d=Math.abs(b-m);if(0!==d){r=Math.min(1,r/d);m=(b+m)/2-g;g=[];for(b=0;b<l;b+=1)for(c=0;c<e;c+=1)d=h+p*b,a=k+q*c,f=(n(d,a)-m)*r,g.push(new Vertex(d,a,f,"Vs"+(b*l+c).toString()));d=[];b=1;for(f=0;f<l-1;f+=1)for(c=0;c<e-1;c+=1)a=new Face([g[e*f+c],g[e*f+c+1],g[e*(f+1)+c+1],g[e*(f+1)+c]],"Fs"+b.toString()),a.enable_uv_flip(),a.set_uv_rotation(-90),a.set_bomb_behaviour(a.behaviour.AROUND),a.disable_contour(),d.push(a),b+=1;this._volume.add_face(d);g=[];for(b=0;b<l;b+=1)for(c=0;c<e;c+=1)d=h+p*b,a=k+q*
c,f=(n(d,a)-m)*r-.0005,g.push(new Vertex(d,a,f,"Vi"+(b*l+c).toString()));d=[];b=1;for(h=0;h<l-1;h+=1)for(k=0;k<e-1;k+=1)a=new Face([g[e*h+k],g[e*h+k+1],g[e*(h+1)+k+1],g[e*(h+1)+k]],"Fi"+b.toString()),a.disable_face(),a.reverse_vertices(),a.disable_contour(),d.push(a),b+=1;this._volume.add_face(d);this._volume.disable_contour()}}};
