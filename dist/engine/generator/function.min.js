/*
 MIT
*/
function GenFunction(){Generator.call(this);this._genprops.latlng=!0;this._genprops.fun=!0;this._set_name("Function");this._generate=function(h,k,n,p,q,c){this._set_camera_position(1.3,0,1.6);let e=this._lat+1,l=this._lng+1;var r=Math.abs(c-n),f=(c+n)/2;p=Math.abs(p-h)/(l-1);q=Math.abs(q-k)/(e-1);n=Parser.parse(this._gen_fun).toJSFunction(["x","y"]);var m=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(var b=0;b<l;b+=1)for(let t=0;t<e;t+=1){c=h+p*b;var d=k+q*t;var g=n(c,d);m=Math.min(g,m);
a=Math.max(g,a)}c=Math.abs(a-m);if(c!==0){r=Math.min(1,r/c);m=(a+m)/2-f;f=[];for(a=0;a<l;a+=1)for(b=0;b<e;b+=1)c=h+p*a,d=k+q*b,g=(n(c,d)-m)*r,f.push(new Vertex(c,d,g,"Vs"+(a*l+b).toString()));c=[];a=1;for(g=0;g<l-1;g+=1)for(b=0;b<e-1;b+=1)d=new Face([f[e*g+b],f[e*g+b+1],f[e*(g+1)+b+1],f[e*(g+1)+b]],"Fs"+a.toString()),d.enable_uv_flip(),d.set_uv_rotation(-90),d.set_bomb_behaviour(d.behaviour.AROUND),d.disable_contour(),c.push(d),a+=1;this._volume.add_face(c);f=[];for(a=0;a<l;a+=1)for(b=0;b<e;b+=1)c=
h+p*a,d=k+q*b,g=(n(c,d)-m)*r-5E-4,f.push(new Vertex(c,d,g,"Vi"+(a*l+b).toString()));c=[];a=1;for(h=0;h<l-1;h+=1)for(k=0;k<e-1;k+=1)d=new Face([f[e*h+k],f[e*h+k+1],f[e*(h+1)+k+1],f[e*(h+1)+k]],"Fi"+a.toString()),d.disable_face(),d.reverse_vertices(),d.disable_contour(),c.push(d),a+=1;this._volume.add_face(c);this._volume.disable_contour()}}};
