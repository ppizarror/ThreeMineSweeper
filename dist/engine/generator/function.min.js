/*
 MIT
*/
function GenFunction(){Generator.call(this);this._genprops.latlng=!0;this._genprops.fun=!0;this._set_name("Function");this._generate=function(h,k,n,p,q,d){this._set_camera_position(0,-1.4,1.6);var e=this._lat+1,l=this._lng+1,r=Math.abs(d-n),g=(d+n)/2;p=Math.abs(p-h)/(l-1);q=Math.abs(q-k)/(e-1);n=Parser.parse(this._gen_fun).toJSFunction(["x","y"]);for(var c,f,m=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,b=0;b<l;b+=1)for(var t=0;t<e;t+=1)d=h+p*b,c=k+q*t,f=n(d,c),m=Math.min(f,m),a=Math.max(f,
a);r=Math.min(1,r/Math.abs(a-m));m=(a+m)/2-g;g=[];for(a=0;a<l;a+=1)for(b=0;b<e;b+=1)d=h+p*a,c=k+q*b,f=n(d,c)*r-m,g.push(new Vertex(d,c,f,"Vs"+(a*l+b).toString()));d=[];a=1;for(f=0;f<l-1;f+=1)for(b=0;b<e-1;b+=1)c=new Face([g[e*f+b],g[e*f+b+1],g[e*(f+1)+b+1],g[e*(f+1)+b]],"F"+a.toString()),c.enable_uv_flip(),c.set_bomb_behaviour(c.behaviour.AROUND),d.push(c),a+=1;this._volume.add_face(d);g=[];for(a=0;a<l;a+=1)for(b=0;b<e;b+=1)d=h+p*a,c=k+q*b,f=n(d,c)*r-(m+.0005),g.push(new Vertex(d,c,f,"Vi"+(a*l+b).toString()));
d=[];a=1;for(h=0;h<l-1;h+=1)for(k=0;k<e-1;k+=1)c=new Face([g[e*h+k],g[e*h+k+1],g[e*(h+1)+k+1],g[e*(h+1)+k]],"F"+a.toString()),c.disable_face(),c.reverse_vertices(),d.push(c),a+=1;this._volume.add_face(d)}};
