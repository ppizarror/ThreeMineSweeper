/*
 MIT
*/
function TMSMenu(){this._games={0:{enabled:!1},1:{enabled:!1},2:{fractal:!0,maxorder:2,minorder:1},3:{fractal:!0,maxorder:2,minorder:1},4:{fractal:!0,maxorder:5,minorder:2},5:{from:300,max:1200,min:50,step:50,target:!0},6:{from:20,latlng:!0,max:55,min:20,step:5},7:{from:20,lateq:!1,latlng:!0,max:60,min:10,step:5},8:{from:20,lateq:!1,latlng:!0,max:60,min:10,step:5},9:{from:20,lateq:!1,latlng:!0,max:25,min:10,step:5},10:{from:20,lateq:!1,latlng:!0,max:65,min:20,step:5},11:{from:20,fun:!0,lateq:!0,latlng:!0,
max:60,min:10,step:5},12:{from:[11,45],lateq:!1,latlng:!0,max:[15,70],min:[5,20],step:[1,5]},13:{item:!0},"null":{enabled:!1}};this._mines={from:5,max:25,min:5,step:1};this._gamekeys=[3,4,2,8,11,9,6,7,10,12,13,5];for(let b=0;b<this._gamekeys.length;b+=1)is_null_undf(this._games[this._gamekeys[b]])||(is_null_undf(this._games[this._gamekeys[b]].enabled)&&(this._games[this._gamekeys[b]].enabled=!0),is_null_undf(this._games[this._gamekeys[b]].fractal)&&(this._games[this._gamekeys[b]].fractal=!1),is_null_undf(this._games[this._gamekeys[b]].fun)&&
(this._games[this._gamekeys[b]].fun=!1),is_null_undf(this._games[this._gamekeys[b]].item)&&(this._games[this._gamekeys[b]].item=!1),is_null_undf(this._games[this._gamekeys[b]].latlng)&&(this._games[this._gamekeys[b]].latlng=!1),is_null_undf(this._games[this._gamekeys[b]].target)&&(this._games[this._gamekeys[b]].target=!1));this._cookies={fun:"newgame.fun",gen:"newgame.gen",lat:"newgame.lat",lng:"newgame.lng",mines:"newgame.mines",order:"newgame.order",target:"newgame.target"};this._rippler=!1;this._dom=
{container:$("#menu-container"),content:$("#menu-content"),footer:$("#menu-footer"),gen_fun:null,gen_item:null,gen_lat:null,gen_lng:null,gen_mines:null,gen_order:null,gen_selector:null,gen_target:null,generator:null,github:$("#menu-github-corner"),header:$("#menu-header"),menu:$("#menu"),mines:null,playbutton:null,subheader:$("#menu-subheader")};const a=this;this.init_menu=function(){a._dom.header.find(".menu-header-title").html(aboutinfo.productname);a._dom.github.attr("href",aboutinfo.productwebsite);
a._dom.github.attr("aria-label",lang.footer_github);var b=generateID();let c=generateID(),d=generateID();a._dom.footer.html('<div class="menu-footer-item menu-footer-item-author" id="{5}">{0}: <a href="{2}" target="_blank">@{1}</a></div><div class="menu-footer-item menu-footer-item-other"><a href="{4}" target="_blank" id="{6}"><i class="fab fa-github"></i></a></div><div class="menu-footer-item menu-footer-item-version">v{3}</div><div class="menu-footer-lang-selector menu-container-width" id="{7}"></div>'.format(lang.author_text,
aboutinfo.author.tag,aboutinfo.author.website,aboutinfo.v.version,aboutinfo.productwebsite,d,c,b));b=$("#"+b);a._write_lang(b,"en",lang.lang_en);a._write_lang(b,"es",lang.lang_es);a._write_lang(b,"br",lang.lang_br);a._write_lang(b,"fr",lang.lang_fr);a._write_lang(b,"it",lang.lang_it);a._write_lang(b,"de",lang.lang_de);a._write_lang(b,"ru",lang.lang_ru);$("#"+c).tooltipster({content:lang.footer_github,contentAsHTML:!1,delay:[1200,200],side:"bottom",theme:theme.tooltipTheme});$("#"+d).tooltipster({content:aboutinfo.author.name,
contentAsHTML:!1,delay:[1200,200],side:"bottom",theme:theme.tooltipTheme})};this._write_lang=function(b,c,d){let f=generateID();d=lang.lang_load_title.format(d);b.append('<img src="resources/langs/{1}.png" id="{0}" alt="" class="hvr-grow-shadow" />'.format(f,c));b=$("#"+f);b.on("click",function(){a._load_lang(c)});b.tooltipster({content:d,contentAsHTML:!1,delay:[1200,200],side:"bottom",theme:theme.tooltipTheme});sessionCookie.lang===c&&b.css("opacity",1)};this.main_menu=function(b){a.reset_menu();
app_console.info(lang.load_menu);b?(a._dom.container.show(),a._dom.github.show()):(a._dom.container.fadeIn(),a._dom.github.fadeIn());app_dom.window.on("resize.menucontainer",a._set_content_height);b=generateID();a._dom.content.html('<div id="{0}" class="main-button-container"></div>'.format(b));b=$("#"+b);a._add_button(lang.menu_new_game,null,b,a._menu_new);a._add_button(lang.menu_how_to_play,null,b,a._menu_htp);a._add_button(lang.menu_controls,null,b,a._menu_controls);a._add_button(lang.menu_statistics,
null,b,a._menu_stats);a._add_button(lang.menu_about,null,b,a._menu_about);a._dom.footer.find(".menu-footer-lang-selector").show();a._apply_rippler();a._set_content_height();setTimeout(function(){$(".menu-header-icon").removeClass("slideInDown");$(".menu-header-title").removeClass("fadeIn")},2500)};this._set_content_height=function(){a._dom.content.css("height",a._get_content_height());setTimeout(function(){a._dom.content.css("height",a._get_content_height())},150)};this._get_cookie_val=function(b,
c,d,f,e){b=sessionCookie[b];if(is_null_undf(b))return f;b=parseFloat(b);if(isNaN(b))return f;b=Math.max(c,Math.min(d,b));e&&(b=parseInt(b,10));return b};this._get_cookie_string=function(b,c){b=sessionCookie[b];return is_null_undf(b)?c:b};this._save_cookie_val=function(b,c){is_null_undf(c)||(sessionCookie[b]=c,update_session_cookie())};this._wipe_content=function(){a._dom.content.empty();a._dom.content.css("display","block");a._dom.footer.find(".menu-footer-lang-selector").hide()};this._wait_libraries=
function(){if(app_library_manager.is_all_loaded_libraries())return!1;app_dialog.confirm(lang.loading_libraries_title,lang.loading_libraries_content,{cancelText:null,confirmButtonClass:app_dialog.options.buttons.BLUE,confirmText:lang.answer_ok,icon:"fa fa-spinner fa-spin fa-fw",size:app_dialog.options.size.SMALL});return!0};this._menu_new=function(){if(!a._wait_libraries()){a._wipe_content();a._write_menuback(lang.menu_new_game);var b=generateID();a._write_input(lang.new_game_generator,'<select id="{0}"></select>'.format(b));
a._dom.gen_selector=$("#"+b);a._dom.gen_selector.append('<option value="-1" disabled>{0}</option>'.format(lang.new_game_generator_select));for(b=0;b<a._gamekeys.length;b+=1)a._games[a._gamekeys[b]].enabled&&a._dom.gen_selector.append('<option value="{0}">{1}</option>'.format(a._gamekeys[b],lang["gen_"+a._gamekeys[b].toString()]));a._dom.gen_selector[0].selectedIndex=a._get_cookie_val(a._cookies.gen,0,a._gamekeys.length,0,!0);a._dom.gen_selector.niceSelect();a._dom.gen_selector.on("change",function(c){a._load_generator_options(c.target.value);
a._save_cookie_val(a._cookies.gen,a._dom.gen_selector[0].selectedIndex)});a._dom.gen_selector[0].selectedIndex!==0&&setTimeout(function(){a._dom.gen_selector.trigger("change")},250);b=generateID();a._dom.content.append('<div class="menu-generator-options" id="{0}"></div>'.format(b));a._dom.generator=$("#"+b);a._dom.playbutton=a._add_button(lang.new_game_start,"btn-primary",null,a._play);a._dom.playbutton.attr("disabled","disabled");a._set_content_height();a._apply_rippler();a._dom.gen_selector.niceSelect("update")}};
this._load_generator_options=function(b){a._dom.generator.empty();a._dom.generator.removeClass("animated");a._dom.generator.removeClass("bounceInUp");let c=a._games[b];if(!is_null_undf(c)){if(c.fractal){var d=generateID();a._write_input(lang.new_game_order,'<select id="{0}"></select>'.format(d),a._dom.generator);a._dom.gen_order=$("#"+d);for(d=c.minorder;d<=c.maxorder;d+=1)a._dom.gen_order.append('<option value="{0}">{1}</option>'.format(d,d));a._dom.gen_order[0].selectedIndex=this._get_cookie_val(a._cookies.order,
0,c.maxorder-c.minorder,c.maxorder-c.minorder,!0);a._dom.gen_order.niceSelect()}c.target&&(d=generateID(),a._write_input(lang.new_game_target_face,'<input id="{0}" />'.format(d),a._dom.generator),a._dom.gen_target=$("#"+d),a._dom.gen_target.ionRangeSlider({from:a._get_cookie_val(a._cookies.target,c.min,c.max,c.from,!0),max:c.max,min:c.min,skin:"round",step:c.step}));if(c.latlng){d=generateID();var f=generateID();a._write_input(lang.new_game_latlng,'<div class="menu-generator-latlng"><input id="{0}" /><div class="menu-generator-latlng-sep"></div><input id="{1}" /></div>'.format(d,
f),a._dom.generator);a._dom.gen_lat=$("#"+d);a._dom.gen_lng=$("#"+f);c.from instanceof Array&&c.from.length===2?(d=c.from[0],f=c.from[1]):f=d=c.from;let e,g;c.max instanceof Array&&c.max.length===2?(e=c.max[0],g=c.max[1]):g=e=c.max;let k,h;c.min instanceof Array&&c.min.length===2?(k=c.min[0],h=c.min[1]):h=k=c.min;let l,m;c.step instanceof Array&&c.step.length===2?(l=c.step[0],m=c.step[1]):m=l=c.step;a._dom.gen_lat.ionRangeSlider({from:a._get_cookie_val(a._cookies.lat,k,e,d,!0),max:e,min:k,skin:"round",
step:l});c.lateq?(a._dom.gen_lng.remove(),a._dom.generator.find(".menu-generator-latlng-sep").remove()):a._dom.gen_lng.ionRangeSlider({from:a._get_cookie_val(a._cookies.lng,h,g,f,!0),max:g,min:h,skin:"round",step:m})}c.fun&&(app_library_manager.import_async_library(app_library_manager.lib.MATHPARSER),d=generateID(),f=generateID(),a._write_input("z=f(x,y)",'<input type="text" class="form-control function-input" id="{0}" minlength="3" maxlength="200" value="{2}" required aria-required="true" placeholder="{1}" aria-placeholder="{1}"><button class="btn function-button" id="{3}">{4}</button>'.format(d,
lang.new_game_function_placeholder,a._get_cookie_string(a._cookies.fun,"0.1*sin(1.2*sqrt((10*x)^2+(10*y)^2))"),f,lang.new_game_function_button),a._dom.generator),a._dom.gen_fun=$("#"+d),a._dom.gen_fun.on("change",function(){a._check_function_popup($(this).val())}),$("#"+f).on("click",function(){app_library_manager.import_async_library(app_library_manager.lib.SELECT2,function(){let e=[["Bumps","sin(5*x)*cos(5*y)/5"],["Cone","(x^2+y^2)^0.5"],["Cross","0.1-sign(sign((x*12)^2-9)-1+sign((y*12)^2-9)-1)/2"],
["Hills","0.2*(3*exp(-(y+1)^2-x^2)*(x-1)^2-(-(x+1)^2-y^2)/3+exp(-x^2-y^2)*(10*x^3-2*x+10*y^5))"],["Intersecting fences","0.75/exp((x*5)^2*(y*5)^2)"],["Letter A","((1-sign(-x-0.9+abs(y*2)))/3*(sign(0.9-x)+1)/3)*(sign(x+0.65)+1)/2-((1-sign(-x-0.39+abs(y*2)))/3*(sign(0.9-x)+1)/3)+((1-sign(-x-0.39+abs(y*2)))/3*(sign(0.6-x)+1)/3)*(sign(x-0.35)+1)/2"],["Letter O","(-sign(0.2-(x^2+y^2))+sign(0.2-(x^2/3+y^2/3)))/9"],["Letter V","sign(x-1+abs(y*2))/3+sign(x-0.5+abs(y*2))/3"],["Paper plane","sign(x)*atan(x*80)/6*sign(-y-x+1)*sign(-y+x+1)-1.01"],
["Propeller","(x^(-2)+y^(-2))^0.5"],["Pyramid","1-abs(x+y)-abs(y-x)"],["Random Hill","(random()^0.1)*(1/(x^2+y^2+0.05))"],["Ripple","sin(10*(x^2+y^2))/10"],["Roof","1-abs(y)"],["Saddle","x^2-y^2"],["Stairs","(sign(-0.65-x)+sign(-0.35-x)+sign(-0.05-x)+sign(0.25-x)+sign(0.55-x))/7"],["Top hat","(sign(0.2-(x^2+y^2))+sign(0.2-(x^2/3+y^2/3)))/3-1"],["Triangle","(1-sign(-x-0.51+abs(y*2)))/3*(sign(0.5-x)+1)/3"],["Windmill","sign(x*y)*sign(1-(x*9)^2+(y*9)^2)/9"]],g=generateID();app_dialog.form(lang.new_game_function_examples_title,
'<form action="" class="formName"><select id="{0}" class="form-control"><option value="-1" disabled selected>{1}</option></select></form>'.format(g,lang.new_game_function_select_drop),function(){a._dom.gen_fun.val($("#"+g).val())},null,{cancelText:lang.dialog_form_cancel,icon:"fas fa-superscript",onOpenBefore:function(){let k=$("#"+g);for(let h=0;h<e.length;h+=1)k.append('<option value="{0}">{1}</option>'.format(e[h][1],e[h][0]));$(".jconfirm-content").css("overflow","hidden");k.select2({dropdownParent:$(".jconfirm"),
selectOnClose:!0})},size:app_dialog.options.size.SMALL,submitText:lang.dialog_form_send})})}));c.item&&app_library_manager.import_async_library(app_library_manager.lib.SELECT2,function(){var e=generateID(),g=a._write_input(lang.new_game_gen_item,'<select id="{0}"><option value="-1" disabled selected>{1}</option></select>'.format(e,lang.new_game_gen_select_item),a._dom.generator);a._dom.gen_item=$("#"+e);if(b==="13"){e=Object.keys(POLYHEDRA);for(g=0;g<e.length;g+=1)a._dom.gen_item.append('<option value="{0}">{1}</option>'.format(e[g],
POLYHEDRA[e[g]].name));a._dom.gen_item.select2({containerCssClass:"menu-input-select2",selectOnClose:!0})}else a._dom.gen_item=null,g.remove()});d=generateID();a._write_input(lang.new_game_mines,'<input id="{0}" />'.format(d),a._dom.generator);a._dom.gen_mines=$("#"+d);a._dom.gen_mines.ionRangeSlider({from:a._get_cookie_val(a._cookies.mines,a._mines.min,a._mines.max,a._mines.from,!0),max:a._mines.max,min:a._mines.min,skin:"round",step:a._mines.step});a._dom.generator.addClass("animated");a._dom.playbutton.removeAttr("disabled");
a._set_content_height();a._dom.gen_selector.niceSelect("update")}};this._play=function(){let b=a._dom.gen_selector.val();b=parseInt(b,10);if(a._gamekeys.includes(b)){var c=a._games[b];if(!is_null_undf(c)){var d="",f=null,e=null,g=null,k=null,h=null;if(c.fractal){k=a._dom.gen_order.val();if(is_null_undf(k))return;k=parseInt(k,10);a._save_cookie_val(a._cookies.order,a._dom.gen_order[0].selectedIndex)}if(c.target){h=a._dom.gen_target.val();if(is_null_undf(h))return;h=parseInt(h,10);a._save_cookie_val(a._cookies.target,
h)}if(c.latlng){e=a._dom.gen_lat.val();g=c.lateq?e:a._dom.gen_lng.val();if(is_null_undf(e)||is_null_undf(g))return;e=parseInt(e,10);g=parseInt(g,10);a._save_cookie_val(a._cookies.lat,e);a._save_cookie_val(a._cookies.lng,g)}if(c.fun){d=a._dom.gen_fun.val();a._save_cookie_val(a._cookies.fun,d);if(!a._check_function_popup(d)||d.length<3||d.length>200)return;a._save_cookie_val(a._cookies.fun,d)}if(c.item&&not_null_undf(a._dom.gen_item)&&(f=a._dom.gen_item.val(),is_null_undf(f)||f==="-1"))return;c=a._dom.gen_mines.val();
is_null_undf(c)||(c=parseInt(c,10),c<0||c>100||(a._save_cookie_val(a._cookies.mines,c),a.reset_menu(),app_tms.set_generator(b,k,h,e,g,d,f),app_tms.set_mines(c*.01),app_tms.new()))}}};this._menu_htp=function(){a._wait_libraries()||(a._wipe_content(),a._write_menuback(lang.menu_how_to_play),a._add_title(lang.help_quick_start),a._write_text(lang.help_p1),a._write_text(lang.help_p2),a._write_text(lang.help_p3),a._add_title(lang.help_detailed_instructions),a._write_list_item(lang.help_p4),a._write_list_item(lang.help_p5),
a._write_list_item(lang.help_p6),a._write_list_item(lang.help_p7),a._write_list_item(lang.help_p8),a._write_list_item(lang.help_p9),a._set_content_height(),a._apply_rippler())};this._menu_controls=function(){a._wait_libraries()||(a._wipe_content(),a._write_menuback(lang.menu_controls),a._write_htp_entry(["Keyboard_White_Mouse_Left"],lang.help_controls_click_faces),a._write_htp_entry(["Keyboard_White_Mouse_Left|shake-lr"],lang.help_controls_click_hold_left),a._write_htp_entry(["Keyboard_White_Mouse_Left|shake-lr",
"+","Keyboard_White_Ctrl"],lang.help_controls_click_rotate_center),a._write_htp_entry(["Keyboard_White_Mouse_Middle"],lang.help_controls_zoom),a._write_htp_entry(["Keyboard_White_Mouse_Right"],lang.help_controls_click_right),a._write_htp_entry(["Keyboard_White_Mouse_Right|shake-lr"],lang.help_controls_click_hold_right),a._write_htp_entry(["Keyboard_White_Arrow_Up","Keyboard_White_Arrow_Left","Keyboard_White_Arrow_Down","Keyboard_White_Arrow_Right"],lang.help_controls_rotate),a._write_htp_entry(["Keyboard_White_W",
"Keyboard_White_A","Keyboard_White_S","Keyboard_White_D"],lang.help_controls_move),a._write_htp_entry(["Keyboard_White_I","Keyboard_White_J","Keyboard_White_K","Keyboard_White_L"],lang.help_controls_move),a._write_htp_entry(["Keyboard_White_E","Keyboard_White_Space"],lang.help_controls_move_up),a._write_htp_entry(["Keyboard_White_Q","Keyboard_White_Shift"],lang.help_controls_move_down),a._write_htp_entry(["Keyboard_White_R"],lang.help_controls_camera_reset),a._set_content_height(),a._apply_rippler())};
this._write_htp_entry=function(b,c){let d="",f;for(let e=0;e<b.length;e+=1)b[e]==="+"?d+='<i class="fas fa-plus"></i>':(f=b[e].split("|"),d=f.length===1?d+'<img src="resources/keys/{0}.png" class="hvr-grow" alt="" />'.format(b[e]):d+'<img src="resources/keys/{0}.png" class="hvr-grow {1}" alt="" />'.format(f[0].replaceAll(","," "),f[1]));a._dom.content.append('<div class="menu-htp-entry-line"><div class="menu-htp-keys">{0}</div><div class="menu-htp-text">{1}</div></div>'.format(d,c))};this._menu_stats=
function(){a._wait_libraries()||(loadingHandler(!0),app_library_manager.import_async_library([app_library_manager.lib.CHARTJS,app_library_manager.lib.JQVMAP],a._load_stats))};this._check_if_function=function(b){try{let c=Parser.parse(b.toLowerCase()).toJSFunction(["x","y"]);return!isNaN(parseFloat(c(343.343,123.457)))}catch(c){}finally{}return!1};this._check_function_popup=function(b){return this._check_if_function(b)?!0:(app_dialog.confirm(lang.error_message,lang.new_game_function_bad.format('<i style="background-color: #f6f6f6;">{0}</i>'.format(b.replace(/<(?:.|\n)*?>/gm,
""))),{cancelText:null,confirmButtonClass:app_dialog.options.buttons.DANGER,confirmText:lang.answer_ok,icon:"fas fa-exclamation-triangle"}),!1)};this._load_stats=function(){let b=$.ajax({crossOrigin:cfg_ajax_cors,data:"m=stats",timeout:cfg_href_ajax_timeout,type:"get",url:cfg_href_score});b.done(function(c){try{let d=JSON.parse(c);if(Object.keys(d).indexOf("error")===-1&&d[0].sid==="1"){a._write_stats_menu(d);return}}catch(d){app_console.exception(d)}finally{}NotificationJS.error(lang.stats_error);
app_console.error(c);loadingHandler(!1)});b.fail(function(c,d,f){NotificationJS.error(lang.stats_error);loadingHandler(!1)})};this._write_stats_menu=function(b){a._wipe_content();a._write_menuback(lang.menu_statistics);var c=Object.keys(b);a._add_title(lang.menu_stats_general_info);a._write_stats_line(lang.menu_stats_total_games,b[0].n,!0);a._write_stats_line(lang.menu_stats_total_scoreboard,b[0].sc,!0);let d={};for(var f=0;f<c.length;f+=1){var e=b[c[f]];var g=e.c;g!==""&&g!=="none"&&(e=parseInt(e.sc,
10),isNaN(e)||(d[g]=e))}app_dom.body.find(".jqvmap-label").remove();a._add_title(lang.menu_stats_scoreboard_distribution);e=generateID();a._write_text('<div id="{0}" class="menu-stats-map"></div>'.format(e));$("#"+e).vectorMap({color:"#ffffff",enableZoom:!0,hoverOpacity:.7,map:"world_en",normalizeFunction:"polynomial",scaleColors:["#C8EEFF","#006491"],selectedColor:"#666666",showTooltip:!0,values:d,onLabelShow:function(m,p,n){is_null_undf(d[n])||p.append(": {0}".format(d[n]))}});g=[];f=[];let k=[],
h=[],l;for(let m=0;m<c.length;m+=1)e=b[c[m]],l=e.g,l!==""&&l!=="0"&&not_null_undf(lang["gen_{0}".format(l)])&&(l=parseInt(l,10),isNaN(l)||(f.push(lang["gen_{0}".format(l)]),k.push(parseInt(e.sc,10)),h.push(parseInt(e.n,10)),g.push(get_random_color())));b=generateID();c=generateID();a._add_title(lang.menu_stats_distribution_generator);a._write_text('<div class="menu-stat-chart"><canvas id="{0}"></canvas></div><div style="width: 2%"></div><div class="menu-stat-chart"><canvas id="{1}"></canvas></div>'.format(b,
c));new Chart($("#"+b),{type:"pie",data:{datasets:[{data:h,backgroundColor:g}],labels:f},options:{legend:{position:"right"},responsive:!0,title:{display:!0,fontSize:14,text:lang.stat_chart_games}}});new Chart($("#"+c),{type:"pie",data:{datasets:[{data:k,backgroundColor:g}],labels:f},options:{legend:{position:"right"},responsive:!0,title:{display:!0,fontSize:14,text:lang.stat_chart_scoreboard}}});a._set_content_height();a._apply_rippler();loadingHandler(!1)};this._write_text=function(b,c,d){is_null_undf(c)&&
(c=0);let f="";not_null_undf(d)&&(f="font-weight: {0};".format(d));a._dom.content.append('<div class="menu-text" style="padding-left: {1}rem;{2}">{0}</div>'.format(b.replaceAll("\n","<br />"),c,f))};this._write_list_item=function(b){a._dom.content.append('<div class="menu-text menu-list-item">{0}</div>'.format(b))};this._add_title=function(b){a._dom.content.append('<div class="menu-title">{0}</div>'.format(b))};this._menu_about=function(){a._wait_libraries()||(a._wipe_content(),a._write_menuback(lang.menu_about),
a._add_title(aboutinfo.productname),a._write_about_line(lang.author_text,'{0} <a href="{1}" target="_blank">@{2}</a>'.format(aboutinfo.author.name,aboutinfo.author.website,aboutinfo.author.tag)),a._write_about_line(lang.about_version,"{0} ({1})".format(aboutinfo.v.version,date_format(new Date(aboutinfo.v.date),cfg_date_format_public_d))),a._write_about_line(lang.about_license,"MIT"),a._write_text('Copyright (c) 2019 Pablo Pizarro R.\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.',
2),aboutinfo.author.contributors.length>0&&a._write_about_line(lang.about_thanks_to,aboutinfo.author.contributors.join(", ")),a._write_about_line(lang.about_source_code,'<a href="{0}" target="_blank">{0}</a>'.format(aboutinfo.productwebsite)),a._set_content_height(),a._apply_rippler())};this._write_about_line=function(b,c,d){a._dom.content.append('<div class="menu-about" style="{2}"><span class="menu-about-title">{0}:</span>{1}</div>'.format(b,c,d?"text-align:center;":""))};this._write_stats_line=
function(b,c,d){a._dom.content.append('<div class="menu-stat" style="{2}"><span class="menu-stat-title">{0}:</span>{1}</div>'.format(b,c,d?"text-align:center;":""))};this._write_input=function(b,c,d){is_null_undf(d)&&(d=a._dom.content);let f=generateID();d.append('<div class="menu-content-input" id="{2}"><div class="menu-content-input-child menu-content-input-label ">{0}</div><div class="menu-content-input-child menu-content-input-content">{1}</div></div>'.format(b,c,f));return $("#"+f)};this._write_menuback=
function(b){let c=generateID();a._dom.subheader.empty();a._dom.subheader.html('<div class="menu-subheader-container"><div class="menu-menuback-button"><button type="button" class="btn hvr-shadow rippler rippler-inverse animated fadeInLeft" id="{1}"><i class="fas fa-arrow-left"></i></button></div><div class="menu-menuback-title">{0}</div></div>'.format(b,c));c=$("#"+c);a._dom.subheader.show();c.tooltipster({content:lang.back_to_menu,contentAsHTML:!1,delay:[1200,200],side:"bottom",theme:theme.tooltipTheme});
c.on("click",function(){app_sound.play(app_sound.sound.BUTTON);a.main_menu(!0)});a._set_content_height()};this._add_button=function(b,c,d,f){is_null_undf(f)&&(f=function(){});is_null_undf(c)&&(c="btn-default");is_null_undf(d)&&(d=a._dom.content);let e=generateID();d.append('<div class="menu-main-button"><button type="button" class="btn {2} rippler rippler-inverse hvr-shadow" id="{0}">{1}</button></div>'.format(e,b,c));b=$("#"+e);b.on("click",function(){app_sound.play(app_sound.sound.BUTTON);f()});
return b};this._apply_rippler=function(){a._rippler&&$(".rippler").rippler({effectClass:"rippler-effect",effectSize:16,addElement:"div",duration:400})};this._get_content_height=function(){return a._dom.container.innerHeight()-a._dom.header.innerHeight()-a._dom.subheader.innerHeight()-get_element_height(a._dom.footer)-15};this.reset_menu=function(){a._dom.container.hide();a._dom.subheader.empty();a._dom.subheader.hide();a._dom.github.hide();app_dom.window.off("resize.menucontainer");a._dom.content.empty();
a._dom.content.css("display","inline-table");app_console.info(lang.reset_menu)};this._load_lang=function(b){sessionCookie.lang!==b&&lang_available.includes(b)&&(app_sound.play(app_sound.sound.BUTTON),sessionCookie.lang=b,update_session_cookie(),app_console.info(lang.load_lang.format(b)),app_library_manager.import_async_library(app_library_manager.lib.__LANG__,function(){check_language();lang=lang_db[b];a.init_menu();a.main_menu(!0)},!0))}};
